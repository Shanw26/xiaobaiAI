# 小白AI 更新日志

## v1.5.3 (2026-01-06)

### ✨ 项目初始化
- ✅ **品牌更名**：芦笋AI → 小白AI
- ✅ **项目移动**：`/Users/xiaolin/Downloads/芦笋AI/` → `/Users/xiaolin/Downloads/小白AI/`
- ✅ **Git 仓库初始化**：首次提交到 GitHub
- ✅ **所有配置和代码已同步更新**

### 🔄 更新内容
- package.json：name 改为 `xiaobai-ai`，productName 改为 `小白AI`，appId 改为 `com.xiaobai.ai`
- 代码文件：所有品牌文案从"芦笋AI"更新为"小白AI"
- 文档：CHANGELOG.md、README.md、BUILD.md、使用指南.md 全部更新
- Git：初始化仓库，添加 .gitignore，创建首次提交

### 🔗 GitHub 仓库
- 仓库地址：https://github.com/Shanw26/xiaobaiAI
- 分支：main
- 提交：feat: 小白AI v1.5.3 初始版本

### 📝 说明
- 保留 v1.5.3 版本号不变（功能未变，仅更名和初始化 Git）

---

## v1.5.3 (2026-01-05)

### 🐛 Bug 修复
- ✅ **修复互斥折叠逻辑**：使用统一的状态管理，确保展开一个时自动折叠另一个
- ✅ **彻底解决弹窗撑开问题**：通过单一状态源管理，避免状态不同步

### 🔧 技术细节
- 重构折叠状态管理：从两个独立状态 (`isBasicExpanded`, `isAdvancedExpanded`) 改为单一状态 `expandedSection`
- 简化切换逻辑：`toggleBasicSection` 和 `toggleAdvancedSection` 更简洁可靠
- 使用字符串标识：`'basic'` | `'advanced'` | `''`（空字符串表示都折叠）

---

## v1.5.2 (2026-01-05)

### 🎨 界面优化
- ✅ **互斥折叠功能**：展开高级功能时自动折叠基础配置，反之亦然
- ✅ **基础配置可折叠**：基础配置区域也支持折叠/展开
- ✅ **弹窗高度优化**：始终保持一个区域展开，弹窗高度稳定

### 🔧 技术细节
- 新增 `isBasicExpanded` 状态控制基础配置折叠
- 新增 `toggleBasicSection` 和 `toggleAdvancedSection` 切换函数
- 实现互斥逻辑：展开一个时自动折叠另一个
- 优化 `.form-section` 样式，第一个section无边框

---

## v1.5.1 (2026-01-05)

### 🎨 界面优化
- ✅ **高级功能折叠**：默认折叠，点击"高级功能"标题展开/收起
- ✅ **优化弹窗高度**：折叠后设置弹窗更紧凑
- ✅ **修复记忆文件打开**：移除按钮禁用状态，添加友好提示
- ✅ **折叠动画**：添加箭头旋转动画和hover效果

### 🔧 技术细节
- 新增 `isAdvancedExpanded` 状态控制折叠
- 新增 `.form-section-header` 样式支持可点击标题
- 新增 `.collapse-icon` 样式和动画
- 优化记忆文件打开错误处理

---

## v1.5.0 (2026-01-05)

### ✨ 新功能
- ✅ **全局设置直接编辑**：可在弹窗中直接编写全局设置内容
- ✅ **全局设置文件上传**：支持上传文件覆盖全局设置
- ✅ **记忆文件一键打开**：点击"打开"按钮在系统文件管理器中查看记忆文件
- ✅ **简化界面文案**：移除技术性文件名，为用户做减法

### 🎨 界面优化
- ✅ 全局设置显示"已设置"而非文件路径
- ✅ 未设置时显示"直接编写"和"上传文件"两个按钮
- ✅ 已设置时显示"编辑"和"清除"按钮
- ✅ 优化编辑器弹窗高度，避免撑开

### 🔧 技术细节
- 新增编辑器模态框组件，支持 Markdown 编辑
- 新增 `openInExplorer` IPC 处理，调用系统文件管理器
- 编辑器使用等宽字体，适合代码编辑
- 编辑器最大高度限制为 50vh，可手动调整

---

## v1.1.1 (2026-01-05)

### 🎨 界面优化
- ✅ 优化输入区域上下边距（从 30px/16px 调整为 24px/24px），让视觉更对称舒适
- ✅ 增加输入区域整体空间，解决紧凑感

### 📝 技术细节
- CSS 优化：`.input-area` padding 调整为对称布局

---

## v1.1.0 (2026-01-05)

### ✨ 新功能
- ✅ **首次使用引导**：点击输入框自动弹出设置窗口（未配置 API Key 时）
- ✅ 智能提示：只会提示一次，避免重复打扰用户

### 🔧 实现细节
- 新增 `hasApiKey` 和 `onOpenSettings` props 给 InputArea 组件
- 使用 `hasPrompted` 状态标志位控制提示次数
- 自动打开设置窗口，提升首次使用体验

---

## v1.0.9 - v1.0.8 (2026-01-05)

### 🎯 样式对齐修复

#### 输入区域对齐优化 (v1.0.9)
- ✅ 修复输入框和按钮高度不一致问题
- ✅ 统一所有元素高度为 44px
- ✅ 优化 textarea 的 padding 和 line-height
- ✅ 确保所有元素使用 `box-sizing: border-box`
- ✅ 三个元素（附件按钮、输入框、发送按钮）完美对齐

#### 整体布局对齐 (v1.0.8)
- ✅ Logo 区域向下移动 10px
- ✅ Header（顶部栏）向下移动 10px
- ✅ ChatArea（对话区域）向下移动 10px
- ✅ Welcome（欢迎页面）向下移动 10px
- ✅ 所有区域与左上角 logo 完美对齐

### 📐 具体调整
- Sidebar header: `padding: 16px 12px → 26px 12px 16px`
- Header: `height: 56px → 66px`, 新增 `padding: 10px 20px`
- ChatArea: `padding: 20px → 30px 20px 20px`
- Welcome: `padding: 60px 40px → 70px 40px 60px`

---

## v1.0.7 - v1.0.5 (2026-01-05)

### 🎨 界面间距调整

#### Logo 区域优化 (v1.0.7)
- ✅ Logo 区域向下移动 10px
- ✅ Sidebar header padding: `16px → 26px`

#### 输入区域优化 (v1.0.6)
- ✅ 输入区域向下移动 10px
- ✅ InputArea padding: `14px → 30px`

#### 初始调整 (v1.0.5)
- ✅ 输入区域首次向下移动尝试
- ✅ InputArea padding: `20px → 30px`

---

## v1.0.4 - v1.0.1 (2026-01-05)

### 🔧 核心功能实现与样式修复

#### 完整 AI 功能实现 (v1.0.4)
- ✅ 集成 Claude Agent SDK
- ✅ 实现真正的 AI 调用（支持 Claude 和智谱 GLM）
- ✅ 流式响应支持（打字机效果）
- ✅ 文件操作功能
- ✅ 对话历史保存和加载
- ✅ 导出 Markdown 功能

#### HTML 结构简化 (v1.0.4)
- ✅ 移除多余的容器元素
- ✅ `attach-buttons` 和 `input-box` 容器删除
- ✅ 直接在 `input-wrapper` 中放置按钮和输入框

#### 输入区域对齐修复 (v1.0.3)
- ✅ 使用 `align-items: stretch` 确保等高
- ✅ 设置 textarea 固定高度 44px
- ✅ 优化 padding 和 line-height

#### CSS 优化 (v1.0.2)
- ✅ 修复 box-sizing 问题
- ✅ 优化对齐方式
- ✅ 统一元素高度

#### 版本号系统 (v1.0.1)
- ✅ 在左上角 logo 下方添加版本号显示
- ✅ 方便用户确认更新是否生效

---

## v1.0.0 (2026-01-05)

### 🎉 首次发布

#### 核心功能
- ✅ AI 对话功能（支持 Claude 和智谱 GLM）
- ✅ 流式响应（打字机效果）
- ✅ 文件上传和操作
- ✅ 对话历史管理（按时间分组）
- ✅ 导出对话为 Markdown
- ✅ 配置管理（API Key、模型选择、工作目录）

#### 界面特性
- ✅ 清爽的白色背景 + 绿色主题
- ✅ 左侧边栏（对话列表 + 设置）
- ✅ 响应式布局
- ✅ 自动滚动到最新消息
- ✅ 打字指示器动画

#### 技术栈
- **Electron** - 桌面应用框架
- **React** - 前端框架
- **Vite** - 构建工具
- **Claude Agent SDK** - AI 集成
- **@anthropic-ai/sdk** - Anthropic 官方 SDK

#### 项目结构
```
小白AI/
├── electron/          # Electron 主进程
│   ├── main.js       # 主进程入口（含 Agent SDK 集成）
│   ├── preload.js    # 预加载脚本
│   └── agent.js      # Agent SDK 封装
├── src/              # React 前端
│   ├── components/   # React 组件
│   ├── App.jsx       # 主应用
│   └── main.jsx      # 入口文件
├── package.json
└── vite.config.js
```

---

## 版本说明

### 版本号规则
- **主版本号.次版本号.修订号** (例如：1.1.1)
- 主版本号：重大功能更新或架构变更
- 次版本号：新功能添加
- 修订号：bug 修复和小优化

### 更新频率
- 开发期间：频繁更新（每天可能多个版本）
- 稳定版：按需更新

### 如何查看版本
- 版本号显示在左上角 logo 下方
- 每次更新后版本号自动递增
- 通过版本号确认更新是否生效

---

## 即将推出

### 计划中的功能
- [ ] 图片 OCR 功能
- [ ] 代码高亮优化
- [ ] 多语言支持
- [ ] 主题切换（深色模式）
- [ ] 快捷键支持
- [ ] 导出 PDF 功能
- [ ] 对话搜索功能
- [ ] 标签管理
- [ ] 数据统计面板

---

## 反馈与建议

如有问题或建议，欢迎反馈！
